webpackJsonp([1],{"4NyK":function(t,e){},"6A3X":function(t,e){},"7zck":function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("7+uW"),a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-toolbar",{attrs:{color:"primary",fixed:""}},[s("v-toolbar-title",{staticClass:"white--text",attrs:{to:"HelloWorld.vue"}},[s("router-link",{attrs:{to:"/"}},[s("span",{staticClass:"white--text"},[t._v("Blog")])])],1),t._v(" "),s("v-btn",{staticClass:"info",attrs:{to:"/posts",flat:""}},[t._v("Browse")]),t._v(" "),s("v-spacer"),t._v(" "),s("v-toolbar-items",[s("v-btn",{attrs:{color:"white",to:"Login",flat:""}},[t._v("Login")]),t._v(" "),s("v-btn",{attrs:{color:"white",to:"Register",flat:""}},[t._v("Register")])],1)],1)},staticRenderFns:[]},r=s("VU/8")({name:"Header"},a,!1,null,null,null).exports,o=s("xz0T"),i=s.n(o),l={name:"App",components:{Header:r},mounted:function(){var t=this;i.a.UserService.getCurrentUser().then(function(e){e&&t.$router.push({name:"Login"})})}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("v-app",[e("Header"),this._v(" "),e("v-content",[e("v-container",{staticClass:"grey lighten-4",attrs:{fluid:"","fill-height":""}},[e("router-view")],1)],1),this._v(" "),e("v-footer",{attrs:{app:""}})],1)],1)},staticRenderFns:[]};var u=s("VU/8")(l,c,!1,function(t){s("4NyK")},null,null).exports,v=s("/ocq"),f={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("router-link",{attrs:{to:"/register"}},[this._v("Sign Up")])],1)},staticRenderFns:[]};var d=s("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},f,!1,function(t){s("xa/H")},"data-v-a7297b12",null).exports,p=(s("mtWM"),{name:"Register",data:function(){return{email:"",password:"",error:null,registering:!1}},methods:{Register:function(){var t=new i.a.User;t.email=this.email,t.password=this.password,this.registering=!0,i.a.UserService.register(t).then().catch(function(t){return console.log(t)}),this.email="",this.password=""}}}),m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs6:"","offset-xs3":""}},[s("div",{staticClass:"white elevation-2"},[s("v-toolbar",{staticClass:"blue lighten-1",attrs:{flat:"",dense:"",dark:""}},[s("v-toolbar-title",[t._v("Register")])],1),t._v(" "),s("div",{staticClass:"pl-4 pr-4"},[s("v-text-field",{attrs:{label:"email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),s("v-text-field",{attrs:{label:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),s("v-btn",{staticClass:"blue lighten-1 white--text",on:{click:function(e){t.Register()}}},[t._v("Register")])],1)],1)])],1)},staticRenderFns:[]},h=s("VU/8")(p,m,!1,null,null,null).exports,g={name:"Register",data:function(){return{email:"",password:"",error:null,stayLoggedIn:!0}},methods:{loginUser:function(){var t=this;i.a.UserService.login(this.email,this.password,this.stayLoggedIn).then(function(e){console.log("User has been logged in - "+e.email),t.$router.push({name:"Posts"})})}}},_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs6:"","offset-xs3":""}},[s("div",{staticClass:"white elevation-2"},[s("v-toolbar",{staticClass:"blue lighten-1",attrs:{flat:"",dense:"",dark:""}},[s("v-toolbar-title",[t._v("Login")])],1),t._v(" "),s("div",{staticClass:"pl-4 pr-4"},[s("v-text-field",{attrs:{label:"email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),s("v-text-field",{attrs:{label:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),s("v-btn",{staticClass:"blue lighten-1 white--text",on:{click:function(e){t.loginUser()}}},[t._v("Login")])],1)],1)])],1)},staticRenderFns:[]},b=s("VU/8")(g,_,!1,null,null,null).exports,x={name:"Posts",data:function(){return{posts:[],title:"",post:""}},computed:{user:function(){return i.a.UserService.getCurrentUserSync()||null}},mounted:function(){this.fetch()},methods:{save:function(){var t=this;i.a.Data.of("Posts").save({email:this.user.email,title:this.title,post:this.post}).then(function(){return t.fetch()}).catch(function(t){return console.log(t)})},fetch:function(){var t=this;i.a.UserService.getCurrentUser().then(function(e){if(e){var s="email = '"+(e.email||"andrey@mail.ru")+"'",n=i.a.DataQueryBuilder.create().setWhereClause(s);i.a.Persistence.of("Posts").find(n).then(function(e){t.posts=e,console.log(t.posts)})}}).catch(function(t){return console.log(t)})},removePost:function(t){var e=this;i.a.Data.of("Posts").remove({objectId:t}).then(function(t){console.log("Deleted at: "+t),e.fetch()})}}},w={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs6:"","offset-xs3":""}},[s("div",{staticClass:"white elevation-2 mb-4 px-4 py-4"},[s("v-text-field",{attrs:{label:"input title"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),t._v(" "),s("v-textarea",{attrs:{name:"input-7-1",label:"Input your text"},model:{value:t.post,callback:function(e){t.post=e},expression:"post"}}),t._v(" "),s("v-btn",{attrs:{color:"info"},on:{click:function(e){t.save()}}},[t._v("Add new Post")])],1),t._v(" "),s("transition-group",{attrs:{name:"zoomLeft"}},t._l(t.posts,function(e){return s("v-card",{key:e.objectId,staticClass:"mb-4"},[s("v-card-title",{staticClass:"evaluation-2 font-weight-bold text-xs-center"},[t._v("\n        "+t._s(e.title)+"\n        "),s("v-spacer"),t._v(" "),s("v-spacer"),t._v(" "),s("v-btn",{attrs:{icon:"",small:"",color:"red white--text"},on:{click:function(s){t.removePost(e.objectId)}}},[s("v-icon",[t._v("remove")])],1)],1),t._v(" "),s("v-card-text",[t._v("\n        "+t._s(e.post)+"\n      ")])],1)}))],1)],1)},staticRenderFns:[]};var C=s("VU/8")(x,w,!1,function(t){s("lrcL")},"data-v-ed645e82",null).exports;n.default.use(v.a);var U=new v.a({routes:[{path:"/",name:"HelloWorld",component:d},{path:"/register",name:"Register",component:h},{path:"/login",name:"Login",component:b},{path:"/posts",name:"Posts",component:C}]}),k=s("R3MO"),R=s.n(k);s("7zck"),s("gJtD");s("6A3X");i.a.serverURL="https://api.backendless.com",i.a.initApp("51539983-E9FB-DA40-FFA9-9C49BBA74300","E149EAB8-657E-B0E8-FF6F-A9A70D266D00"),n.default.use(R.a),n.default.config.productionTip=!1,new n.default({el:"#app",router:U,components:{App:u},template:"<App/>"})},gJtD:function(t,e){},lrcL:function(t,e){},"xa/H":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.7fc483ad7c2f41acbc5e.js.map